<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–ù–µ–æ–Ω–æ–≤–æ–µ –∫–∞–∑–∏–Ω–æ</title>
  <style>
    /* –¢–≤–æ–π —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Å—Ç–∏–ª—å —Å –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –æ—Ç–≤–µ—Ç–∞ */
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

    body {
      background: linear-gradient(135deg, #0f0c29, #302b63, #24243e);
      color: white;
      text-align: center;
      padding: 20px;
      animation: bgMove 20s ease-in-out infinite alternate;
    }

    @keyframes bgMove {
      from { background-position: 0% 0%; }
      to { background-position: 100% 100%; }
    }

    .balance {
      font-size: calc(20px + 2vw);
      background: linear-gradient(to right, #00c6ff, #0072ff);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      margin-bottom: 20px;
      text-shadow: 0 0 10px #00f0ff;
    }

    input[type="number"] {
      padding: 10px;
      font-size: calc(14px + 0.5vw);
      width: 100px;
      margin-right: 10px;
      border-radius: 8px;
      border: none;
      background: rgba(255, 255, 255, 0.1);
      color: #00f0ff;
      text-align: center;
      box-shadow: 0 0 10px #00f0ff;
      transition: all 0.3s ease;
    }

    input:focus {
      outline: none;
      box-shadow: 0 0 15px #00f0ff, 0 0 30px #00f0ff;
    }

    .suggested-bets,
    .subtract-bets,
    .top-up-buttons {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 10px;
      margin: 15px 0;
    }

    button {
      padding: 10px 20px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: calc(12px + 0.5vw);
      font-weight: bold;
      transition: transform 0.2s ease, box-shadow 0.3s ease;
    }

    button:hover {
      transform: scale(1.05);
      box-shadow: 0 0 20px #fff, 0 0 40px #fff;
    }

    .suggested-bets button {
      background: linear-gradient(to right, #8e2de2, #4a00e0);
    }

    .subtract-bets button {
      background: linear-gradient(to right, #ff416c, #ff4b2b);
    }

    .top-up-buttons button {
      background: linear-gradient(to right, #00c9ff, #92fe9d);
      color: black;
    }

    .spin-button {
      background: linear-gradient(to right, #f7971e, #ffd200);
      color: black;
      box-shadow: 0 0 15px #ffd200;
    }

    .result {
      margin-top: 20px;
      font-size: calc(16px + 0.5vw);
      text-shadow: 0 0 10px #00ff95;
    }

    .wheel-container {
      position: relative;
      width: 80vw;
      height: 80vw;
      max-width: 300px;
      max-height: 300px;
      margin: 30px auto;
      border: 4px solid #ffffffcc;
      border-radius: 50%;
      overflow: hidden;
      box-shadow: 0 0 30px #8e2de2;
    }

    .arrow {
      position: absolute;
      top: -5vw;
      left: 50%;
      transform: translateX(-50%);
      width: 0; 
      height: 0; 
      border-left: 2vw solid transparent;
      border-right: 2vw solid transparent;
      border-bottom: 4vw solid red;
      z-index: 10;
      transition: transform 0.5s ease;
    }

    .winner-arrow {
      position: absolute;
      top: -20px;
      left: 50%;
      transform: translateX(-50%) rotate(0deg);
      width: 0; 
      height: 0; 
      border-left: 15px solid transparent;
      border-right: 15px solid transparent;
      border-bottom: 25px solid gold;
      z-index: 100;
      animation: bounce 1s infinite;
    }

    @keyframes bounce {
      0%, 100% { transform: translateX(-50%) translateY(0); }
      50% { transform: translateX(-50%) translateY(-10px); }
    }

    .wheel {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      transform-origin: center;
      transition: transform 3s ease-out;
    }

    .dice {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 12vw;
      height: 12vw;
      max-width: 60px;
      max-height: 60px;
      line-height: 12vw;
      max-line-height: 60px;
      font-size: calc(18px + 0.5vw);
      background: linear-gradient(45deg, #92fe9d, #00c9ff);
      color: black;
      border-radius: 10px;
      text-align: center;
      user-select: none;
      pointer-events: auto;
      box-shadow: 0 0 10px #00f0ff;
      transition: transform 0.3s ease, background 0.3s ease;
    }

    .dice.selected {
      background: linear-gradient(45deg, #ff416c, #ff4b2b);
      box-shadow: 0 0 20px #ff4b2b;
    }

    .last-results {
      margin-top: 20px;
      font-size: calc(14px + 0.3vw);
      text-shadow: 0 0 10px #00ff95;
    }

    .last-results span {
      display: inline-block;
      width: 10vw;
      height: 10vw;
      max-width: 40px;
      max-height: 40px;
      line-height: 10vw;
      max-line-height: 40px;
      margin: 0 5px;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 50%;
      font-weight: bold;
      box-shadow: 0 0 10px #fff;
    }

    @media (max-width: 600px) {
      .dice {
        width: 16vw;
        height: 16vw;
        font-size: 18px;
      }

      .last-results span {
        width: 14vw;
        height: 14vw;
        font-size: 14px;
      }
    }
  </style>
</head>
<body>

<div class="balance">–ë–∞–ª–∞–Ω—Å: <span id="balance">1000</span></div>

<!-- –°—Ç–∞–≤–∫–∞ -->
<input type="number" id="betAmount" placeholder="–°—Ç–∞–≤–∫–∞" min="1"/>
<div class="suggested-bets">
  <button onclick="addToBet(10)">+10</button>
  <button onclick="addToBet(50)">+50</button>
  <button onclick="addToBet(100)">+100</button>
  <button onclick="addToBet(500)">+500</button>
</div>
<div class="subtract-bets">
  <button onclick="subtractFromBet(10)">‚àí10</button>
  <button onclick="subtractFromBet(50)">‚àí50</button>
  <button onclick="subtractFromBet(100)">‚àí100</button>
  <button onclick="subtractFromBet(500)">‚àí500</button>
</div>
<button class="spin-button" onclick="spinWheel()">–ö—Ä—É—Ç–∏—Ç—å!</button>

<!-- –ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ -->
<h3 style="margin-top: 20px;">–ü–æ–ø–æ–ª–Ω–∏—Ç—å –±–∞–ª–∞–Ω—Å</h3>
<input type="number" id="topUpAmount" placeholder="–°—É–º–º–∞ –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è" min="1">
<div class="top-up-buttons">
  <button onclick="addToTopUp(100)">+100</button>
  <button onclick="addToTopUp(500)">+500</button>
  <button onclick="addToTopUp(1000)">+1000</button>
  <button onclick="addToTopUp(5000)">+5000</button>
</div>
<button onclick="topUpBalance()" style="background: linear-gradient(to right, #00c9ff, #92fe9d); color: black;">–ü–æ–ø–æ–ª–Ω–∏—Ç—å</button>

<div class="result" id="result"></div>

<div class="wheel-container">
  <div class="arrow" id="winnerArrow"></div>
  <div class="wheel" id="wheel"></div>
</div>

<!-- –ë–ª–æ–∫ –¥–ª—è –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ -->
<div class="last-results">
  –ü–æ—Å–ª–µ–¥–Ω–∏–µ –≤—ã–ø–∞–≤—à–∏–µ —á–∏—Å–ª–∞:
  <div id="lastResults"></div>
</div>

<script>
  const diceValues = [1, 2, 3, 4, 5, 6];
  let balance = 1000;
  let selectedDice = null;
  const wheel = document.getElementById("wheel");
  const winnerArrow = document.getElementById("winnerArrow");
  const radius = 120;
  const centerX = 150;
  const centerY = 150;

  const lastResults = [];

  function createDiceElements() {
    for (let i = 0; i < diceValues.length; i++) {
      const angle = (i / diceValues.length) * 2 * Math.PI;
      const x = centerX + radius * Math.cos(angle);
      const y = centerY + radius * Math.sin(angle);

      const div = document.createElement("div");
      div.className = "dice";
      div.style.left = `${x}px`;
      div.style.top = `${y}px`;
      div.textContent = diceValues[i];
      div.dataset.value = diceValues[i];
      div.dataset.angle = (-angle * 180 / Math.PI);
      div.onclick = () => {
        document.querySelectorAll(".dice").forEach(d => d.classList.remove("selected"));
        div.classList.add("selected");
        selectedDice = parseInt(div.dataset.value);
      };
      wheel.appendChild(div);
    }
  }

  createDiceElements();

  function fixDiceRotation() {
    const dices = document.querySelectorAll(".dice");
    dices.forEach(dice => {
      const correctAngle = parseFloat(dice.dataset.angle);
      dice.style.transform = `translate(-50%, -50%) rotate(${correctAngle}deg)`;
    });
  }

  function updateLastResults(value) {
    const container = document.getElementById("lastResults");
    lastResults.unshift(value);
    if (lastResults.length > 5) lastResults.pop();
    container.innerHTML = '';
    lastResults.forEach(num => {
      const span = document.createElement('span');
      span.textContent = num;
      container.appendChild(span);
    });
  }

  function updateBalanceDisplay() {
    document.getElementById("balance").textContent = balance;
  }

  function addToBet(amount) {
    const betInput = document.getElementById("betAmount");
    let current = parseInt(betInput.value) || 0;
    current += amount;
    betInput.value = current;
  }

  function subtractFromBet(amount) {
    const betInput = document.getElementById("betAmount");
    let current = parseInt(betInput.value) || 0;
    current = Math.max(current - amount, 0);
    betInput.value = current;
  }

  function addToTopUp(amount) {
    const topUpInput = document.getElementById("topUpAmount");
    let current = parseInt(topUpInput.value) || 0;
    current += amount;
    topUpInput.value = current;
  }

  function topUpBalance() {
    const topUpInput = document.getElementById("topUpAmount");
    const amount = parseInt(topUpInput.value);
    if (!isNaN(amount) && amount > 0) {
      balance += amount;
      updateBalanceDisplay();
      topUpInput.value = "";
      document.getElementById("result").textContent = `–ë–∞–ª–∞–Ω—Å –ø–æ–ø–æ–ª–Ω–µ–Ω –Ω–∞ ${amount}! –ù–æ–≤—ã–π –±–∞–ª–∞–Ω—Å: ${balance}`;
    } else {
      document.getElementById("result").textContent = "–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é —Å—É–º–º—É –¥–ª—è –ø–æ–ø–æ–ª–Ω–µ–Ω–∏—è!";
    }
  }

  function spinWheel() {
    const betInput = document.getElementById("betAmount");
    const bet = parseInt(betInput.value);
    const resultDiv = document.getElementById("result");

    if (selectedDice === null) {
      resultDiv.textContent = "–í—ã–±–µ—Ä–∏—Ç–µ —á–∏—Å–ª–æ –¥–ª—è —Å—Ç–∞–≤–∫–∏!";
      return;
    }

    if (isNaN(bet) || bet <= 0) {
      resultDiv.textContent = "–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é —Å—Ç–∞–≤–∫—É!";
      return;
    }

    if (bet > balance) {
      resultDiv.textContent = "–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ä–µ–¥—Å—Ç–≤!";
      return;
    }

    const resultValue = diceValues[Math.floor(Math.random() * diceValues.length)];
    const index = diceValues.indexOf(resultValue);
    const offset = 360 * 5 + ((index / diceValues.length) * 360);
    wheel.style.transform = `rotate(${offset}deg)`;

    setTimeout(() => {
      if (resultValue === selectedDice) {
        const win = bet * 5;
        balance += win - bet;
        resultDiv.textContent = `–í—ã–ø–∞–ª–æ: ${resultValue}. –ü–æ–±–µ–¥–∞! –í—ã –≤—ã–∏–≥—Ä–∞–ª–∏: ${win} üí∞`;
      } else {
        balance -= bet;
        resultDiv.textContent = `–í—ã–ø–∞–ª–æ: ${resultValue}. –ù–µ —É–≥–∞–¥–∞–ª–∏ üò¢`;
      }

      updateBalanceDisplay();
      selectedDice = null;
      document.querySelectorAll(".dice").forEach(d => d.classList.remove("selected"));
      betInput.value = "";
      updateLastResults(resultValue);

      // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –∫—É–±–∏–∫–∏ –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ
      fixDiceRotation();

      // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —É–≥–æ–ª —Å—Ç—Ä–µ–ª–∫–∏
      const anglePerItem = 360 / diceValues.length;
      const targetAngle = -index * anglePerItem;
      winnerArrow.style.transform = `translateX(-50%) rotate(${targetAngle}deg)`;
    }, 3000);
  }

  updateBalanceDisplay();
</script>

</body>
</html>
